<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>���ձʼ� | Liu Xianggen</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="life," />
  

  <meta name="description" content="ת���ԣ�ShuolBDe ǰ�ԣ�����������Ŀ��Ҫ��������ļ�������������ʹ�õ���apache����������Ҫ������Ŀ��Ŀ¼����������Ȼ��ͨ�������ӽ���������Ŀ��������������������ͬʱ����������Ŀ�������Ļ���δ��������ĿĿ¼�ͻᶪʧ����ʵ���ۣ����Բ��д">
<meta name="keywords" content="life">
<meta property="og:type" content="article">
<meta property="og:title" content="���ձʼ�">
<meta property="og:url" content="http://www.liuxianggen.com/2017/09/30/system/buildFtp/index.html">
<meta property="og:site_name" content="Liu Xianggen">
<meta property="og:description" content="ת���ԣ�ShuolBDe ǰ�ԣ�����������Ŀ��Ҫ��������ļ�������������ʹ�õ���apache����������Ҫ������Ŀ��Ŀ¼����������Ȼ��ͨ�������ӽ���������Ŀ��������������������ͬʱ����������Ŀ�������Ļ���δ��������ĿĿ¼�ͻᶪʧ����ʵ���ۣ����Բ��д">
<meta property="og:updated_time" content="2017-09-30T14:38:00.661Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="���ձʼ�">
<meta name="twitter:description" content="ת���ԣ�ShuolBDe ǰ�ԣ�����������Ŀ��Ҫ��������ļ�������������ʹ�õ���apache����������Ҫ������Ŀ��Ŀ¼����������Ȼ��ͨ�������ӽ���������Ŀ��������������������ͬʱ����������Ŀ�������Ļ���δ��������ĿĿ¼�ͻᶪʧ����ʵ���ۣ����Բ��д">

  

  
    <link rel="icon" href="/images/favicon.jpg">
  

  <link href="/css/styles.css?v=028c63b1" rel="stylesheet">


  

  

  
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?fb0e88cc5bbe470f7877739f0bf6bc4c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#��������"><span class="toc-text">��������</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#����"><span class="toc-text">����</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ftp-����"><span class="toc-text">ftp ����</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-system/buildFtp" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">���ձʼ�</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2017.09.30</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>LiuXianggen</span>
        </span>
      

      


      

    </div>
  </header>

  <div class="article-content">
    
      <p>ת���ԣ�<a href="http://www.cnblogs.com/ShuolBDe/p/4453329.html" target="_blank" rel="external">ShuolBDe</a></p>
<p>ǰ�ԣ�<br>����������Ŀ��Ҫ��������ļ�������������ʹ�õ���apache����������Ҫ������Ŀ��Ŀ¼����������Ȼ��ͨ�������ӽ���������Ŀ��������������������ͬʱ����������Ŀ�������Ļ���δ��������ĿĿ¼�ͻᶪʧ����ʵ���ۣ����Բ��дftp���������뷨�����濪ʼ���ġ�</p>
<p>һ����װ<br>������ubuntu�����µĻ�����װ�Ǻܼ򵥵ģ�ֻ��������������:<br><code>sudo apt-get install vsftpd</code><br>������װ���ɺ����Բ쿴�·���״̬����ʵ��װ�����˾ͻ���ʾ�Ѿ������ˣ�<br><code>sudo service vsftpd status</code></p>
<p>���������ļ�<br>������ʵ���õ����ļ�ֻ������<br>����1. /etc/vsftp.conf���������ļ���</p>
<p>����2. /etc/vsftp.chroot_list���ɷ����û��б���������������ò�Ʋ������еģ������ֽ��ģ������쿴�����Ǹ������ļ��ͻᷢ�֣������ļ������й�����</p>
<p>����3. /etc/pam.d/vsftpd�������и�ѡ����Ҫ�޸ģ�������Ҫ��������һ�£����������֡�530 login incorrect���Ĵ�����<br>�������濪ʼ�����ļ�˵����<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">����1./etc/vsftpd.config ������ע�ͱȽ϶࣬������ϸ�������Ͳ�һһ�о��ˣ�ֻд�����޸ĵ�</div><div class="line"></div><div class="line">��������anonymous_enable=NO���Ƿ�����������½��</div><div class="line"></div><div class="line">��������local_enable=YES���Ƿ��������ص�½��</div><div class="line"></div><div class="line">��������write_enable=YES������FTP��д��</div><div class="line"></div><div class="line">��������//chroot ��Change Root��</div><div class="line"></div><div class="line">��������chroot_local_user=YES�����ó�YES�󣬼���vsftpd.chroot_list�е��û�����ͨ��ftp���ʣ�</div><div class="line"></div><div class="line">��������chroot_list_enable=YES��������������vsftpd.chroot_list��</div><div class="line"></div><div class="line">��������chroot_list_file=/etc/vsftpd.chroot_list��ָ��һ��list�������ļ�Ĭ�ϵģ����ǲ������ڣ���Ҫ�ֶ�Ūһ�£�</div><div class="line">��������pam_service_name=vsftpd�������������ǣ���һ�������»�����530�����⣬������������ȥ����</div></pre></td></tr></table></figure></p>
<p>����2./etc/vsftpd.chroot_list<br>�������������ļ��Ƚϼ򵥣�֮��Ҫ������ftp��½���û����Ž������У�һ��һ�У���֮ǰһֱ�ȽϷ�ŭ����������������ô˵һ�£���û�����ӣ�����������ô���ʵ�ܼ򵥣�������������<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">user</div><div class="line">user2</div><div class="line">user22</div></pre></td></tr></table></figure></p>
<p>������������˵���������û�����ʵ�������ģ�������ʹ�ñ����Ѿ����ڵ��û���������Ϊһ��������ftp���������ǲ�Ӧ�ðѱ����Ķ����������������ģ����õķ��������ٴ������û�ר�Ÿ�ftpʹ��</p>
<p>��������������������һ���û�������</p>
<p>�����������ӣ�-d��ָ�����û���Ŀ¼��-m��Ҫ�������û�������</p>
<p>sudo useradd -d /home/user -m username<br>�����������������û�����Ҫ���û����룬</p>
<p>sudo passwd username<br>��������Whatever��Ҫ����ɾ�ˣ�</p>
<p>sudo userdel username<br>�����������ﻹҪ�������ǣ����ڴ����û�֮����һЩ�����¿��ܻ����ָ�500�Ĵ�����������������ȥ��</p>
<p>�����������ˣ����ڲ쿴�´������������Ź�������</p>
<p>���ƴ���<br>user@userServer:/home$ ll<br>������ xx<br>drwxr-xr-x  7 root   root    4096  4�� 24 11:27 ./<br>drwxr-xr-x 25 root   root    4096  4��  9 09:47 ../<br>drwxr-xr-x  2 heihei    heihei     4096  4�� 24 11:27 heihei/<br>drwxr-xr-x  6 haha    haha     4096  2�� 15 18:08 haha/<br>drwxr-xr-x 75 username    username    4096  4�� 24 13:18 username/<br>���ƴ���<br>��������==================================================================</p>
<p>����3./etc/pam.d/vsftpd</p>
<p>�������������ļ���ʵҲû���ٶ������͸�һ�����ɣ�</p>
<p>auth    required        pam_listfile.so item=user sense=deny file=/etc/ftpuser onerr=succeed<br>��������Ĭ����ftpuser�������ĳɷ���vsftpd.chroot_list�������û������ˣ���Ҫ�����Ǹ�deny������Ӧ����allow�������ǲ�����ʹ�ã�����..</p>
<p>������½</p>
<p>������ʵ�кö෽����½��</p>
<p>����1.������</p>
<p>��������ip��ַ������..</p>
<p>���������Ǹ�usernameӦ���ǵ�ǰ���û�����Ҫ���������Ǻ�ftp�û���һ����</p>
<p>��������user��������ftp�û�����ǰ�������Ǹ���Ҫ�Ǻ͵�ǰ�û���һ���Ļ�ֱ�ӻس���ȥ��</p>
<p>��������passwd���룻</p>
<p>���������㶨</p>
<p>���ƴ���<br>user@userServer:/home$ ftp 192.168.1.123<br>Connected to 192.168.1.123.<br>220 (vsFTPd 2.3.5)<br>Name (192.168.1.123:username): user<br>331 Please specify the password.<br>Password:<br>230 Login successful.<br>Remote system type is UNIX.<br>Using binary mode to transfer files.<br>ftp&gt;<br>���ƴ���<br> ����2.������</p>
<p>���������ڵ�ַ������(your ip address):����ftp://192.168.1.123</p>
<p>����3.��windows��Ŀ¼��ַ�������������ĵ�ַ</p>
<p>�ġ�����</p>
<p>�������ڵ�����������Ӳ�����ô���׾�����ֱ�����ɣ�����ô�������⣬���ܲ���������������..</p>
<p>����1.530 login Incorrect</p>
<p>����������˵��������ò�Ƽ��������������֣�</p>
<p>����������1��pam_service_name=vsftpd ����ǰ��vsftpd.conf�ļ��������ˣ����ڵ�һ̨PC�������ʱ���ļ�����û�У���˵����Ϊ���仰�����ڵ�һ̨PC���������϶࣬��Ҳ��ȷ���ǲ�����������<br>����������2�����ǵ�/etc/pam.d/vsftpd�Ǹ��ļ�����˵�˲�Ҫ��deny���ǲ����ּ�<br>����������3����û���֣�����Ϊ�˿���չ�ԣ�:-)<br>����2.500 OOPS: cannot change directory:/home/**<br>����������1������˵���Ƚ�ͳһ��һ����˵����һ�Ѳ����ͺ��ˣ����Բ�һ��<br>����������2����˵˵�ҵĴ���ԭ������MD��ʵ����ftp�û�������ʱ���Ұ��ļ���Ȩ���޶��ˣ����������û�û�и���Ȩ��Ҳ�����������⣬����ʱ����ֻ��Ҫ��<br><code>sudo chmod 755 userDir/</code></p>
<h1 id="��������"><a href="#��������" class="headerlink" title="��������"></a>��������</h1><h2 id="����"><a href="#����" class="headerlink" title="����"></a>����</h2><p><code>sudo /etc/init.d/vsftpd restart</code></p>
<h1 id="ftp-����"><a href="#ftp-����" class="headerlink" title="ftp ����"></a>ftp ����</h1><p>1.ftp ip </p>
<p>2.open 123.123.123.123<br>/<em>��һ����������һ���ϲ����ڡ����С���ֱ�����롱ftp 123.123.123.123�塣��������FTP�����������õ�21Ĭ�϶˿ڣ������˿���12333����ô�˲�������Ӧ�ں����ո���12333������open 123.123.123.123 12333��</em>/ </p>
<p>3.ftpname<br>/<em>�����л���ʾ�������û�������ͬ��OS�汾��XP��Vista��Win7����ʾ���ܻ���������</em>/ </p>
<p>4.ftppwd<br>/<em>��ʾ���������룬���������������в�����ʾҲ�����ƶ����꣬�����������س����ɡ��������������������󣬽�������ʾ���������룬��ʱ��Ҫ���롰user������������ֵ����������������������û��������롣</em>/ </p>
<p>5.dir<br>/<em>���ɹ���½���Ϳ�����dir�鿴�����鿴FTP�������е��ļ���Ŀ¼����ls����ֻ���Բ鿴�ļ���</em>/ </p>
<p>6.mkdir rsfile<br>/<em>��FTP�������ϸ�Ŀ¼�½���rsfileĿ¼��</em>/ </p>
<p>7.cd rsfile<br>/<em>����Ŀ¼rsfile,�á�cd ����Ŀ¼�������Խ��뵱ǰĿ¼����һ��Ŀ¼������DOSһ����</em>/ </p>
<p>8.bin<br>/<em>���ö����ƴ��䡣������Ҫ�ϴ����أ���һ������Ҫ������ִ����������ϴ����ػ�������</em>/ </p>
<p>9.lcd D:\ftpin<br>/<em>��λ����Ĭ���ļ��С�������lcd����������ƽʱ�������µ�cd</em>/ </p>
<p>10.!dir<br>/<em>�鿴�����ļ����е��ļ���Ŀ¼</em>/ </p>
<p>11.put file.doc<br>/<em>����ǰĿ¼(D:\ftpin)�е��ļ�file.doc�ϴ���FTP������Ĭ��Ŀ¼�������á�mput </em>.<em>���������ļ��ϴ���FTP�������ϡ�</em>/ </p>
<p>12.get aaa.jpg<br>/<em>��FTP������Ĭ��Ŀ¼�е��ļ�aaa.jpg���ص���ǰĿ¼��(D:\ftpin)�������á�mget </em>.<em>���������ļ����ص�D:\ftpin</em>/ </p>
<p>13.delete <em>.</em><br>/<em>ɾ��Ŀ¼ftpin�е������ļ���</em>/ </p>
<p>14.cd ..<br>/<em>��������һ��Ŀ¼������Ŀ¼��������һ��Ŀ¼�á�cd ..��Ҫע�⣬�м��пո񡣷��ظ�Ŀ¼�á�cd \����</em>/ </p>
<p>15.mrdir ftpin<br>/<em>ɾ��Ŀ¼ftpin��ɾ��Ŀ¼���ڴ�Ŀ¼�²������ļ���Ŀ¼����Ȼ���޷�ɾ����</em>/ </p>
<p>16.bye<br>/<em>�˳�FTP������</em>/ </p>

    
  </div>
</article>

</div>


  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">支持一下</span>
      <div class="donation-body">
        <div class="tip text-center">挣点熬夜的咖啡钱</div>
        <ul class="theme.donation.items.length">
        
          <li class="item">
            <img src="/images/wechat_pay.jpg" alt="">
          </li>
        
          <li class="item">
            <img src="/images/alipay.jpg" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>




  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    




  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
